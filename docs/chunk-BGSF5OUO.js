import{A as o,B as u,C as d,D as j,E as v,F as C,G as X,H as R,I as Y,K as ee,L as D,M as I,N as te,O as ie,P as V,Q as ne,R as re,V as oe,X as ae,Y as le,Z as A,a as k,b as z,ba as L,c as N,ca as ce,d as J,e as Z,ea as se,f as g,g as $,h as B,i as H,j as f,k as P,l as G,m as K,n as Q,o as w,p as l,q as h,r as y,s as p,t as a,u as t,v as m,w as W,x as E,y as b,z as F}from"./chunk-UVL47NEF.js";var S=(()=>{let e=class e{constructor(i){this._http=i,this.cacheStore={byCapital:{term:"",countries:[]},byCountries:{term:"",countries:[]},byRegion:{region:"",countries:[]}},this.apiUrl="https://restcountries.com/v3.1",this.loadFromLocalStorage()}getContriesRequest(i){return this._http.get(i).pipe(J(2e3),N(n=>(console.log(n),k([]))))}saveToLocalStorage(){localStorage.setItem("cacheStore",JSON.stringify(this.cacheStore))}loadFromLocalStorage(){localStorage.getItem("cacheStore")&&(this.cacheStore=JSON.parse(localStorage.getItem("cacheStore")))}searchCountryByAlphaCode(i){return this._http.get(this.apiUrl+"/alpha/"+i).pipe(z(n=>n.length>0?n[0]:null),N(n=>(console.log(n),k(null))))}searchCapital(i){let n=this.apiUrl+"/capital/"+i;return this.getContriesRequest(n).pipe(g(s=>this.cacheStore.byCapital={term:i,countries:s}),g(()=>this.saveToLocalStorage()))}searchCountry(i){let n=this.apiUrl+"/name/"+i;return this.getContriesRequest(n).pipe(g(s=>this.cacheStore.byCountries={term:i,countries:s}),g(()=>this.saveToLocalStorage()))}searchRegion(i){let n=this.apiUrl+"/region/"+i;return this.getContriesRequest(n).pipe(g(s=>this.cacheStore.byRegion={region:i,countries:s}),g(()=>this.saveToLocalStorage()))}};e.\u0275fac=function(n){return new(n||e)(H(re))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var ye=r=>["/countries/by",r];function ve(r,e){r&1&&(a(0,"div",3),o(1," No hay pa\xEDses "),t())}function xe(r,e){if(r&1&&(a(0,"tr")(1,"td"),o(2),t(),a(3,"td"),o(4),t(),a(5,"td"),m(6,"img",7),t(),a(7,"td"),o(8),t(),a(9,"td"),o(10),t(),a(11,"td"),o(12),v(13,"number"),t(),a(14,"td")(15,"a",8),m(16,"i",9),t()()()),r&2){let c=e.$implicit,i=e.index;l(2),u(i+1),l(2),u(c.flag),l(2),p("src",c.flags.svg,w)("alt",c.name.common),l(2),u(c.name.common),l(2),u(c.capital),l(2),u(C(13,8,c.population)),l(3),p("routerLink",j(10,ye,c.cca3))}}function Se(r,e){if(r&1&&(a(0,"div",4)(1,"table",5)(2,"thead")(3,"tr")(4,"th"),o(5,"#"),t(),a(6,"th"),o(7,"Icon"),t(),a(8,"th"),o(9,"Bandera"),t(),a(10,"th"),o(11,"Nombre"),t(),a(12,"th"),o(13,"Capital"),t(),a(14,"th"),o(15,"Poblaci\xF3n"),t(),m(16,"th"),t()(),a(17,"tbody"),y(18,xe,17,12,"tr",6),t()()()),r&2){let c=b();l(18),p("ngForOf",c.countries)}}var _=(()=>{let e=class e{constructor(){this.countries=[]}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=f({type:e,selectors:[["countries-table"]],inputs:{countries:"countries"},decls:4,vars:2,consts:[["table",""],[1,"row"],["class","alert alert-warning tex-ceter mx-auto",4,"ngIf","ngIfElse"],[1,"alert","alert-warning","tex-ceter","mx-auto"],[1,"table-responsive"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[3,"src","alt"],["href","",1,"btn","btn-sm","btn-info","btn-circle",3,"routerLink"],[1,"fas","fa-search"]],template:function(n,s){if(n&1&&(a(0,"div",1),y(1,ve,2,0,"div",2)(2,Se,19,1,"ng-template",null,0,R),t()),n&2){let T=F(3);l(),p("ngIf",s.countries.length===0)("ngIfElse",T)}},dependencies:[D,I,le,V],styles:["img[_ngcontent-%COMP%]{width:25px}"]});let r=e;return r})();function Ce(r,e){r&1&&m(0,"shared-loading-spinner")}var me=(()=>{let e=class e{constructor(i){this._countryService=i,this.countries=[],this.isLoading=!1,this.inputSearcInitialValue=""}searchByCapital(i){this.isLoading=!0,this._countryService.searchCapital(i).subscribe(n=>{this.countries=n,this.isLoading=!1}),console.log("serchCapital -->",i)}ngOnInit(){this.countries=this._countryService.cacheStore.byCapital.countries,this.inputSearcInitialValue=this._countryService.cacheStore.byCapital.term}};e.\u0275fac=function(n){return new(n||e)(h(S))},e.\u0275cmp=f({type:e,selectors:[["app-by-capital-page"]],decls:13,vars:4,consts:[[1,"text-blue-dark"],[1,"row"],[1,"col"],[3,"onValue","placeholder","inputSearcInitialValue"],[4,"ngIf"],[3,"countries"]],template:function(n,s){n&1&&(a(0,"h2",0),o(1,"Por Capital"),t(),m(2,"hr"),a(3,"div",1)(4,"div",2)(5,"shared-search-box",3),E("onValue",function(O){return s.searchByCapital(O)}),t(),m(6,"br"),y(7,Ce,1,0,"shared-loading-spinner",4),t()(),a(8,"div",1)(9,"div",2)(10,"ul"),m(11,"countries-table",5),t()(),m(12,"hr"),t()),n&2&&(l(5),p("placeholder","Buscar capital")("inputSearcInitialValue",s.inputSearcInitialValue),l(2),p("ngIf",s.isLoading),l(4),p("countries",s.countries))},dependencies:[I,L,ce,_]});let r=e;return r})();var pe=(()=>{let e=class e{constructor(i){this._countryService=i,this.countries=[],this.title="Por pa\xEDs",this.placeholder="busqueda por pa\xEDs",this.inputSearcInitialValue=""}searchByTerm(i){this._countryService.searchCountry(i).subscribe(n=>{this.countries=n}),console.log("serchCapital -->",i)}ngOnInit(){this.countries=this._countryService.cacheStore.byCountries.countries,this.inputSearcInitialValue=this._countryService.cacheStore.byCountries.term}};e.\u0275fac=function(n){return new(n||e)(h(S))},e.\u0275cmp=f({type:e,selectors:[["app-by-country-page"]],decls:12,vars:4,consts:[[1,"text-blue-dark"],[1,"row"],[1,"col"],[3,"onValue","placeholder","inputSearcInitialValue"],[3,"countries"]],template:function(n,s){n&1&&(a(0,"h2",0),o(1),t(),m(2,"hr"),a(3,"div",1)(4,"div",2)(5,"shared-search-box",3),E("onValue",function(O){return s.searchByTerm(O)}),t(),m(6,"br"),t()(),a(7,"div",1)(8,"div",2)(9,"ul"),m(10,"countries-table",4),t()(),m(11,"hr"),t()),n&2&&(l(),u(s.title),l(4),p("placeholder",s.placeholder)("inputSearcInitialValue",s.inputSearcInitialValue),l(5),p("countries",s.countries))},dependencies:[L,_]});let r=e;return r})();var Ee=r=>({"btn-outline-primary":r});function Ie(r,e){if(r&1){let c=W();a(0,"button",6),E("click",function(){let n=K(c).$implicit,s=b();return Q(s.searchByTerm(n))}),o(1),t()}if(r&2){let c=e.$implicit,i=b();p("ngClass",j(2,Ee,i.selectedRegion===c)),l(),d(" ",c," ")}}var ue=(()=>{let e=class e{constructor(i){this._countryService=i,this.countries=[],this.title="Por regi\xF3n",this.placeholder="busqueda por region",this.regions=["Africa","America","Asia","Europe","Oceania"]}ngOnInit(){this.countries=this._countryService.cacheStore.byRegion.countries,this.selectedRegion=this._countryService.cacheStore.byRegion.region}searchByTerm(i){this.selectedRegion=i,this._countryService.searchRegion(i).subscribe(n=>{this.countries=n}),console.log("serchCapital -->",i)}};e.\u0275fac=function(n){return new(n||e)(h(S))},e.\u0275cmp=f({type:e,selectors:[["app-by-region-page"]],decls:12,vars:3,consts:[[1,"text-blue-dark"],[1,"row"],[1,"col","text-center"],["class","btn mx-2 mb-3",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col"],[3,"countries"],[1,"btn","mx-2","mb-3",3,"click","ngClass"]],template:function(n,s){n&1&&(a(0,"h2",0),o(1),t(),m(2,"hr"),a(3,"div",1)(4,"div",2),y(5,Ie,2,4,"button",3),m(6,"br"),t()(),a(7,"div",1)(8,"div",4)(9,"ul"),m(10,"countries-table",5),t()(),m(11,"hr"),t()),n&2&&(l(),u(s.title),l(4),p("ngForOf",s.regions),l(5),p("countries",s.countries))},dependencies:[ee,D,_]});let r=e;return r})();var de=(()=>{let e=class e{constructor(i){this.locale=i}transform(i,n){return i?typeof n!="string"?(console.error("El argumento de zona horaria no es una cadena v\xE1lida"),null):new te(this.locale).transform(i,"long",n):null}};e.\u0275fac=function(n){return new(n||e)(h(Y,16))},e.\u0275pipe=G({name:"nowTimeZone",type:e,pure:!0});let r=e;return r})();function Te(r,e){r&1&&(a(0,"div",2),o(1," Espere por favor "),t())}function Be(r,e){if(r&1&&(a(0,"div",3)(1,"div",4)(2,"H2",5),o(3,"Pa\xEDs: "),a(4,"strong"),o(5),t()(),m(6,"hr"),t(),a(7,"div",6)(8,"div",7)(9,"h3"),o(10,"Bandera"),t(),m(11,"img",8),t(),a(12,"div",9)(13,"h3"),o(14,"Informaci\xF3n"),t(),a(15,"ul",10)(16,"li",11)(17,"strong"),o(18,"Poblaci\xF3n:"),t(),o(19),v(20,"number"),t(),a(21,"li",11)(22,"strong"),o(23,"C\xF3digo:"),t(),o(24),t(),a(25,"li",11)(26,"strong"),o(27,"Regi\xF3n:"),t(),o(28),t(),a(29,"li",11)(30,"strong"),o(31,"Lenguaje:"),t(),o(32),t(),a(33,"li",11)(34,"strong"),o(35,"Moneda:"),t(),o(36),t(),a(37,"li",11)(38,"strong"),o(39,"Simbolo:"),t(),o(40),t(),a(41,"li",11)(42,"strong"),o(43,"Timezones:"),t(),o(44),t(),a(45,"li",11)(46,"strong"),o(47,"Fecha y hora:"),t(),o(48),v(49,"nowTimeZone"),t(),a(50,"li",11)(51,"strong"),o(52,"Area:"),t(),o(53),v(54,"number"),t(),a(55,"li",11)(56,"strong"),o(57,"Capital:"),t(),o(58),a(59,"b"),o(60," lat "),t(),o(61),v(62,"json"),t(),a(63,"li",11)(64,"strong"),o(65,"Lat:"),t(),o(66),v(67,"json"),t()()(),a(68,"div",12),m(69,"br"),a(70,"div",13)(71,"b"),o(72,"Traducciones"),t()(),a(73,"div",14)(74,"div",15)(75,"div",16)(76,"span",17),o(77),t(),a(78,"span",17),o(79),t(),a(80,"span",17),o(81),t(),a(82,"span",17),o(83),t(),a(84,"span",17),o(85),t(),a(86,"span",17),o(87),t()()()()()()()),r&2){let c=b();l(5),u(c.country.name.common),l(6),p("src",c.country.flags.svg,w)("alt",c.country.name.common),l(8),d(" ",C(20,21,c.country.population)," "),l(5),d(" ",c.country.cca3," "),l(4),d(" ",c.country.region," "),l(4),d(" ",c.lenguaje," "),l(4),d(" ",c.currencie.name," "),l(4),d(" ",c.currencie.symbol," "),l(4),d(" ",c.country.timezones[0]," "),l(4),d(" ",X(49,23,c.customDate,c.country.timezones[0])," "),l(5),d(" ",C(54,26,c.country.area)," "),l(5),d(" ",c.country.capital," "),l(3),d("",C(62,28,c.country.capitalInfo.latlng)," "),l(5),d(" ",C(67,30,c.country.latlng)," "),l(11),u(c.country.translations.ara.common?c.country.translations.ara.common:""),l(2),u(c.country.translations.bre.common?c.country.translations.bre.common:""),l(2),u(c.country.translations.ces.common?c.country.translations.ces.common:""),l(2),u(c.country.translations.cym.common?c.country.translations.cym.common:""),l(2),u(c.country.translations.deu.common?c.country.translations.deu.common:""),l(2),u(c.country.translations.est.common?c.country.translations.est.common:"")}}var he=(()=>{let e=class e{constructor(i,n,s){this._route=i,this._router=n,this._countryService=s,this.lenguaje="",this.customDate=new Date}ngOnInit(){this._route.params.pipe(Z(({id:i})=>this._countryService.searchCountryByAlphaCode(i)),g(i=>{this.lenguaje=Object.values(i.languages)[0],this.key=Object.keys(i.currencies)[0],this.currencie={name:i.currencies[this.key]?.name,symbol:i.currencies[this.key]?.symbol}})).subscribe(i=>i?this.country=i:this._router.navigateByUrl(""))}};e.\u0275fac=function(n){return new(n||e)(h(oe),h(ae),h(S))},e.\u0275cmp=f({type:e,selectors:[["app-country-page"]],decls:3,vars:2,consts:[["alert",""],["class","row",4,"ngIf","ngIfElse"],[1,"alert","alert-info","text-center"],[1,"row"],[1,"col-12"],[1,"text-blue-dark"],[1,"row","col-md-12","card-jav","shadow-sm"],[1,"col-4"],[1,"img-thumbnail",3,"src","alt"],[1,"col-8"],[1,"list-group"],[1,"list-group-item","item-list"],[1,"col-md-12"],[1,"text-center","mt-4"],[1,"row","mt-2"],[1,"col"],[1,"d-flex","flex-wrap"],[1,"badge","bg-primary","m-1"]],template:function(n,s){if(n&1&&y(0,Te,2,0,"ng-template",null,0,R)(2,Be,88,32,"div",1),n&2){let T=F(1);l(2),p("ngIf",s.country)("ngIfElse",T)}},dependencies:[I,ie,V,de]});let r=e;return r})();var Pe=[{path:"by-capital",component:me},{path:"by-country",component:pe},{path:"by-region",component:ue},{path:"by/:id",component:he},{path:"**",redirectTo:"by-region"}],fe=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[A.forChild(Pe),A]});let r=e;return r})();var ct=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[ne,fe,se]});let r=e;return r})();export{ct as CountriesModule};
