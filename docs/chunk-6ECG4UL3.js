import{$ as re,A as u,B as d,C as R,D as S,E as b,F as j,I as X,J as V,K as I,L as Y,M,N as Z,O as ee,S as te,U as ie,V as ne,W as U,_ as k,a as D,b as z,ba as oe,c as N,d as J,e as $,f,g as H,h as B,i as G,j as h,k as w,l as K,m as Q,n as F,o as l,p as g,q as y,r as p,s as n,t as e,u as m,v as W,w as E,x,y as P,z as r}from"./chunk-K7YG6RB4.js";var v=(()=>{let t=class t{constructor(i){this._http=i,this.cacheStore={byCapital:{term:"",countries:[]},byCountries:{term:"",countries:[]},byRegion:{region:"",countries:[]}},this.apiUrl="https://restcountries.com/v3.1",this.loadFromLocalStorage()}getContriesRequest(i){return this._http.get(i).pipe(J(2e3),N(a=>(console.log(a),D([]))))}saveToLocalStorage(){localStorage.setItem("cacheStore",JSON.stringify(this.cacheStore))}loadFromLocalStorage(){localStorage.getItem("cacheStore")&&(this.cacheStore=JSON.parse(localStorage.getItem("cacheStore")))}searchCountryByAlphaCode(i){return this._http.get(this.apiUrl+"/alpha/"+i).pipe(z(a=>a.length>0?a[0]:null),N(a=>(console.log(a),D(null))))}searchCapital(i){let a=this.apiUrl+"/capital/"+i;return this.getContriesRequest(a).pipe(f(s=>this.cacheStore.byCapital={term:i,countries:s}),f(()=>this.saveToLocalStorage()))}searchCountry(i){let a=this.apiUrl+"/name/"+i;return this.getContriesRequest(a).pipe(f(s=>this.cacheStore.byCountries={term:i,countries:s}),f(()=>this.saveToLocalStorage()))}searchRegion(i){let a=this.apiUrl+"/region/"+i;return this.getContriesRequest(a).pipe(f(s=>this.cacheStore.byRegion={region:i,countries:s}),f(()=>this.saveToLocalStorage()))}};t.\u0275fac=function(a){return new(a||t)(G(ee))},t.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var ue=o=>["/countries/by",o];function de(o,t){o&1&&(n(0,"div",3),r(1," No hay pa\xEDses "),e())}function he(o,t){if(o&1&&(n(0,"tr")(1,"td"),r(2),e(),n(3,"td"),r(4),e(),n(5,"td"),m(6,"img",7),e(),n(7,"td"),r(8),e(),n(9,"td"),r(10),e(),n(11,"td"),r(12),S(13,"number"),e(),n(14,"td")(15,"a",8),m(16,"i",9),e()()()),o&2){let c=t.$implicit,i=t.index;l(2),u(i+1),l(2),u(c.flag),l(2),p("src",c.flags.svg,F)("alt",c.name.common),l(2),u(c.name.common),l(2),u(c.capital),l(2),u(b(13,8,c.population)),l(3),p("routerLink",R(10,ue,c.cca3))}}function ge(o,t){if(o&1&&(n(0,"div",4)(1,"table",5)(2,"thead")(3,"tr")(4,"th"),r(5,"#"),e(),n(6,"th"),r(7,"Icon"),e(),n(8,"th"),r(9,"Bandera"),e(),n(10,"th"),r(11,"Nombre"),e(),n(12,"th"),r(13,"Capital"),e(),n(14,"th"),r(15,"Poblaci\xF3n"),e(),m(16,"th"),e()(),n(17,"tbody"),y(18,he,17,12,"tr",6),e()()()),o&2){let c=x();l(18),p("ngForOf",c.countries)}}var _=(()=>{let t=class t{constructor(){this.countries=[]}};t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=h({type:t,selectors:[["countries-table"]],inputs:{countries:"countries"},decls:4,vars:2,consts:[["table",""],[1,"row"],["class","alert alert-warning tex-ceter mx-auto",4,"ngIf","ngIfElse"],[1,"alert","alert-warning","tex-ceter","mx-auto"],[1,"table-responsive"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[3,"src","alt"],["href","",1,"btn","btn-sm","btn-info","btn-circle",3,"routerLink"],[1,"fas","fa-search"]],template:function(a,s){if(a&1&&(n(0,"div",1),y(1,de,2,0,"div",2)(2,ge,19,1,"ng-template",null,0,j),e()),a&2){let T=P(3);l(),p("ngIf",s.countries.length===0)("ngIfElse",T)}},dependencies:[V,I,ne,M],styles:["img[_ngcontent-%COMP%]{width:25px}"]});let o=t;return o})();function ye(o,t){o&1&&m(0,"shared-loading-spinner")}var ae=(()=>{let t=class t{constructor(i){this._countryService=i,this.countries=[],this.isLoading=!1,this.inputSearcInitialValue=""}searchByCapital(i){this.isLoading=!0,this._countryService.searchCapital(i).subscribe(a=>{this.countries=a,this.isLoading=!1}),console.log("serchCapital -->",i)}ngOnInit(){this.countries=this._countryService.cacheStore.byCapital.countries,this.inputSearcInitialValue=this._countryService.cacheStore.byCapital.term}};t.\u0275fac=function(a){return new(a||t)(g(v))},t.\u0275cmp=h({type:t,selectors:[["app-by-capital-page"]],decls:13,vars:4,consts:[[1,"text-blue-dark"],[1,"row"],[1,"col"],[3,"onValue","placeholder","inputSearcInitialValue"],[4,"ngIf"],[3,"countries"]],template:function(a,s){a&1&&(n(0,"h2",0),r(1,"Por Capital"),e(),m(2,"hr"),n(3,"div",1)(4,"div",2)(5,"shared-search-box",3),E("onValue",function(O){return s.searchByCapital(O)}),e(),m(6,"br"),y(7,ye,1,0,"shared-loading-spinner",4),e()(),n(8,"div",1)(9,"div",2)(10,"ul"),m(11,"countries-table",5),e()(),m(12,"hr"),e()),a&2&&(l(5),p("placeholder","Buscar capital")("inputSearcInitialValue",s.inputSearcInitialValue),l(2),p("ngIf",s.isLoading),l(4),p("countries",s.countries))},dependencies:[I,k,re,_]});let o=t;return o})();var le=(()=>{let t=class t{constructor(i){this._countryService=i,this.countries=[],this.title="Por pa\xEDs",this.placeholder="busqueda por pa\xEDs",this.inputSearcInitialValue=""}searchByTerm(i){this._countryService.searchCountry(i).subscribe(a=>{this.countries=a}),console.log("serchCapital -->",i)}ngOnInit(){this.countries=this._countryService.cacheStore.byCountries.countries,this.inputSearcInitialValue=this._countryService.cacheStore.byCountries.term}};t.\u0275fac=function(a){return new(a||t)(g(v))},t.\u0275cmp=h({type:t,selectors:[["app-by-country-page"]],decls:12,vars:4,consts:[[1,"text-blue-dark"],[1,"row"],[1,"col"],[3,"onValue","placeholder","inputSearcInitialValue"],[3,"countries"]],template:function(a,s){a&1&&(n(0,"h2",0),r(1),e(),m(2,"hr"),n(3,"div",1)(4,"div",2)(5,"shared-search-box",3),E("onValue",function(O){return s.searchByTerm(O)}),e(),m(6,"br"),e()(),n(7,"div",1)(8,"div",2)(9,"ul"),m(10,"countries-table",4),e()(),m(11,"hr"),e()),a&2&&(l(),u(s.title),l(4),p("placeholder",s.placeholder)("inputSearcInitialValue",s.inputSearcInitialValue),l(5),p("countries",s.countries))},dependencies:[k,_]});let o=t;return o})();var ve=o=>({"btn-outline-primary":o});function xe(o,t){if(o&1){let c=W();n(0,"button",6),E("click",function(){let a=K(c).$implicit,s=x();return Q(s.searchByTerm(a))}),r(1),e()}if(o&2){let c=t.$implicit,i=x();p("ngClass",R(2,ve,i.selectedRegion===c)),l(),d(" ",c," ")}}var ce=(()=>{let t=class t{constructor(i){this._countryService=i,this.countries=[],this.title="Por regi\xF3n",this.placeholder="busqueda por region",this.regions=["Africa","America","Asia","Europe","Oceania"]}ngOnInit(){this.countries=this._countryService.cacheStore.byRegion.countries,this.selectedRegion=this._countryService.cacheStore.byRegion.region}searchByTerm(i){this.selectedRegion=i,this._countryService.searchRegion(i).subscribe(a=>{this.countries=a}),console.log("serchCapital -->",i)}};t.\u0275fac=function(a){return new(a||t)(g(v))},t.\u0275cmp=h({type:t,selectors:[["app-by-region-page"]],decls:12,vars:3,consts:[[1,"text-blue-dark"],[1,"row"],[1,"col","text-center"],["class","btn mx-2 mb-3",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col"],[3,"countries"],[1,"btn","mx-2","mb-3",3,"click","ngClass"]],template:function(a,s){a&1&&(n(0,"h2",0),r(1),e(),m(2,"hr"),n(3,"div",1)(4,"div",2),y(5,xe,2,4,"button",3),m(6,"br"),e()(),n(7,"div",1)(8,"div",4)(9,"ul"),m(10,"countries-table",5),e()(),m(11,"hr"),e()),a&2&&(l(),u(s.title),l(4),p("ngForOf",s.regions),l(5),p("countries",s.countries))},dependencies:[X,V,_]});let o=t;return o})();function Se(o,t){o&1&&(n(0,"div",2),r(1," Espere por favor "),e())}function be(o,t){if(o&1&&(n(0,"div",3)(1,"div",4)(2,"H2",5),r(3,"Pa\xEDs: "),n(4,"strong"),r(5),e()(),m(6,"hr"),e(),n(7,"div",6)(8,"div",7)(9,"h3"),r(10,"Bandera"),e(),m(11,"img",8),e(),n(12,"div",9)(13,"h3"),r(14,"Informaci\xF3n"),e(),n(15,"ul",10)(16,"li",11)(17,"strong"),r(18,"Poblaci\xF3n:"),e(),r(19),S(20,"number"),e(),n(21,"li",11)(22,"strong"),r(23,"C\xF3digo:"),e(),r(24),e(),n(25,"li",11)(26,"strong"),r(27,"Regi\xF3n:"),e(),r(28),e(),n(29,"li",11)(30,"strong"),r(31,"Lenguaje:"),e(),r(32),e(),n(33,"li",11)(34,"strong"),r(35,"Moneda:"),e(),r(36),e(),n(37,"li",11)(38,"strong"),r(39,"Simbolo:"),e(),r(40),e(),n(41,"li",11)(42,"strong"),r(43,"timezones"),e(),r(44),e(),n(45,"li",11)(46,"strong"),r(47,"area"),e(),r(48),S(49,"number"),e(),n(50,"li",11)(51,"strong"),r(52,"Capital:"),e(),r(53),n(54,"b"),r(55," lat "),e(),r(56),S(57,"json"),e(),n(58,"li",11)(59,"strong"),r(60,"Lat"),e(),r(61),S(62,"json"),e()()(),n(63,"div",12),m(64,"br"),n(65,"div",13)(66,"b"),r(67,"Traducciones"),e()(),n(68,"div",14)(69,"div",15)(70,"div",16)(71,"span",17),r(72),e(),n(73,"span",17),r(74),e(),n(75,"span",17),r(76),e(),n(77,"span",17),r(78),e(),n(79,"span",17),r(80),e(),n(81,"span",17),r(82),e()()()()()()()),o&2){let c=x();l(5),u(c.country.name.common),l(6),p("src",c.country.flags.svg,F)("alt",c.country.name.common),l(8),d(" ",b(20,20,c.country.population)," "),l(5),d(" ",c.country.cca3," "),l(4),d(" ",c.country.region," "),l(4),d(" ",c.lenguaje," "),l(4),d(" ",c.currencie.name," "),l(4),d(" ",c.currencie.symbol," "),l(4),d(" ",c.country.timezones," "),l(4),d(" ",b(49,22,c.country.area)," "),l(5),d(" ",c.country.capital," "),l(3),d("",b(57,24,c.country.capitalInfo.latlng)," "),l(5),d(" ",b(62,26,c.country.latlng)," "),l(11),u(c.country.translations.ara.common?c.country.translations.ara.common:""),l(2),u(c.country.translations.bre.common?c.country.translations.bre.common:""),l(2),u(c.country.translations.ces.common?c.country.translations.ces.common:""),l(2),u(c.country.translations.cym.common?c.country.translations.cym.common:""),l(2),u(c.country.translations.deu.common?c.country.translations.deu.common:""),l(2),u(c.country.translations.est.common?c.country.translations.est.common:"")}}var se=(()=>{let t=class t{constructor(i,a,s){this._route=i,this._router=a,this._countryService=s,this.lenguaje=""}ngOnInit(){this._route.params.pipe($(({id:i})=>this._countryService.searchCountryByAlphaCode(i)),f(i=>{this.lenguaje=Object.values(i.languages)[0],this.key=Object.keys(i.currencies)[0],this.currencie={name:i.currencies[this.key]?.name,symbol:i.currencies[this.key]?.symbol}})).subscribe(i=>i?this.country=i:this._router.navigateByUrl(""))}};t.\u0275fac=function(a){return new(a||t)(g(te),g(ie),g(v))},t.\u0275cmp=h({type:t,selectors:[["app-country-page"]],decls:3,vars:2,consts:[["alert",""],["class","row",4,"ngIf","ngIfElse"],[1,"alert","alert-info","text-center"],[1,"row"],[1,"col-12"],[1,"text-blue-dark"],[1,"row","col-md-12","card-jav","shadow-sm"],[1,"col-4"],[1,"img-thumbnail",3,"src","alt"],[1,"col-8"],[1,"list-group"],[1,"list-group-item","item-list"],[1,"col-md-12"],[1,"text-center","mt-4"],[1,"row","mt-2"],[1,"col"],[1,"d-flex","flex-wrap"],[1,"badge","bg-primary","m-1"]],template:function(a,s){if(a&1&&y(0,Se,2,0,"ng-template",null,0,j)(2,be,83,28,"div",1),a&2){let T=P(1);l(2),p("ngIf",s.country)("ngIfElse",T)}},dependencies:[I,Y,M]});let o=t;return o})();var Ce=[{path:"by-capital",component:ae},{path:"by-country",component:le},{path:"by-region",component:ce},{path:"by/:id",component:se},{path:"**",redirectTo:"by-capital"}],me=(()=>{let t=class t{};t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=w({type:t}),t.\u0275inj=B({imports:[U.forChild(Ce),U]});let o=t;return o})();var We=(()=>{let t=class t{};t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=w({type:t}),t.\u0275inj=B({imports:[Z,me,oe]});let o=t;return o})();export{We as CountriesModule};
